{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport AddToCalendar from 'react-add-to-calendar';\nimport QRCode from 'qrcode.react';\nimport useSWR from 'swr';\nimport Head from \"../src/components/Head\";\nimport resolvePath from \"../src/utils/resolvePath\";\nimport appConfig from \"../src/config/app\";\nimport { useTranslation, defaultLocale } from \"../src/i18n\";\nimport guestList from \"./guest_list.json\";\n\nconst translateConfig = (appConfig, locale) => {\n  if (!locale || locale === defaultLocale) {\n    return appConfig;\n  } // Replace config with lang\n\n\n  const configLang = appConfig.lang[locale];\n\n  if (configLang === undefined) {\n    throw new Error('invalid locale: ', locale);\n  }\n\n  return _objectSpread({}, appConfig, {}, configLang);\n};\n\nconst ShowInvite = ({\n  currentUrl,\n  guestListLastUpdatedAt,\n  guest\n}) => {\n  const t = useTranslation(guest.locale); // Initiate config variables\n\n  const {\n    logo,\n    ogTags,\n    coupleInfo,\n    venue,\n    weddingDay,\n    weddingDate,\n    weddingTime,\n    calendarInfo\n  } = translateConfig(appConfig, guest.locale);\n  const {\n    brideName,\n    groomName,\n    coupleNameFormat\n  } = coupleInfo;\n  const coupleNameStr = coupleNameFormat === 'GROOM_FIRST' ? `${groomName} & ${brideName}` : `${brideName} & ${groomName}`;\n  const coupleName = coupleNameFormat === 'GROOM_FIRST' ? __jsx(React.Fragment, null, groomName, \" \", __jsx(\"span\", null, \"&\"), \" \", brideName) : __jsx(React.Fragment, null, brideName, \" \", __jsx(\"span\", null, \"&\"), \" \", groomName); // Venue info\n\n  const venueBrief = `${venue.name}, ${venue.city}, ${venue.country}`;\n  const weddingDateBrief = `${weddingDay}, ${weddingDate}`; // Event info\n\n  const eventTitle = `${coupleNameStr}'s Wedding`;\n  let eventDescription = `${weddingDateBrief} at ${venue.name}, ${venue.city}`;\n\n  if (guest.name) {\n    eventDescription = `Dear ${guest.name}, you are cordially invited to our wedding on ${weddingDate} at ${venue.name}. Looking forward to seeing you!`;\n  } // Calendar payload\n\n\n  const calendarEvent = {\n    title: eventTitle,\n    description: eventDescription,\n    location: `${venue.city}, ${venue.country}`,\n    startTime: calendarInfo.timeStartISO,\n    endTime: calendarInfo.timeEndISO\n  };\n  return __jsx(\"div\", {\n    className: \"jsx-1703421768\"\n  }, __jsx(_JSXStyle, {\n    id: \"1703421768\"\n  }, [\"a.react-add-to-calendar__button span{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline;}\"]), __jsx(Head, _extends({}, ogTags, {\n    title: eventTitle,\n    description: eventDescription,\n    guestName: guest.name,\n    url: currentUrl,\n    date: weddingDateBrief,\n    modifiedTime: guestListLastUpdatedAt,\n    venue: venueBrief,\n    logo: resolvePath(ogTags.logo),\n    author: resolvePath('/')\n  })), __jsx(\"section\", {\n    className: \"jsx-1703421768\" + \" \" + 'header_area'\n  }, __jsx(\"div\", {\n    id: \"home\",\n    className: \"jsx-1703421768\" + \" \" + 'header_slider'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'slick-list draggable'\n  }, __jsx(\"div\", {\n    style: {\n      opacity: 1\n    },\n    className: \"jsx-1703421768\" + \" \" + 'slick-track'\n  }, __jsx(\"div\", {\n    style: {\n      height: '100vh'\n    },\n    className: \"jsx-1703421768\" + \" \" + 'single_slider bg_cover d-flex align-items-center'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'container'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'row justify-content-center'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'col-lg-8'\n  }, __jsx(\"div\", {\n    style: {\n      paddingTop: 0\n    },\n    className: \"jsx-1703421768\" + \" \" + 'slider_content text-center'\n  }, __jsx(\"img\", {\n    style: {\n      maxHeight: 60,\n      margin: 25,\n      marginTop: 0\n    },\n    src: logo.headerLogo,\n    alt: \"logo\",\n    className: \"jsx-1703421768\"\n  }), __jsx(\"h5\", {\n    \"data-animation\": \"fadeInUp\",\n    \"data-delay\": \"0.2s\",\n    style: {\n      animationDelay: '0.2s'\n    },\n    className: \"jsx-1703421768\" + \" \" + 'slider_sub_title'\n  }, t('siteIntro')), __jsx(\"h2\", {\n    \"data-animation\": \"fadeInUp\",\n    \"data-delay\": \"0.7s\",\n    style: {\n      animationDelay: '0.7s'\n    },\n    className: \"jsx-1703421768\" + \" \" + 'slider_title'\n  }, coupleName), __jsx(\"span\", {\n    \"data-animation\": \"fadeInUp\",\n    \"data-delay\": \"1s\",\n    style: {\n      animationDelay: '1s'\n    },\n    className: \"jsx-1703421768\" + \" \" + 'location'\n  }, venue.name, \", \", venue.city, \", \", venue.country, \".\")))))))))), __jsx(\"section\", {\n    id: \"coming_soon\",\n    className: \"jsx-1703421768\" + \" \" + 'coming_soon_area pt-20 pb-70'\n  }, __jsx(\"div\", {\n    style: {\n      zIndex: 1\n    },\n    className: \"jsx-1703421768\" + \" \" + 'coming_soon_shape_1'\n  }, __jsx(\"img\", {\n    src: \"/assets/images/shape-1.png\",\n    alt: \"shape\",\n    className: \"jsx-1703421768\"\n  })), __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'container'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'row align-items-center'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'col-lg-4'\n  }, __jsx(\"div\", {\n    \"data-wow-duration\": \"1.3s\",\n    \"data-wow-delay\": \"0.2s\",\n    style: {\n      visibility: 'visible',\n      animationDuration: '1.3s',\n      animationDelay: '0.2s',\n      animationName: 'fadeIn'\n    },\n    className: \"jsx-1703421768\" + \" \" + 'section_title pt-50 wow fadeIn'\n  }, __jsx(\"h3\", {\n    className: \"jsx-1703421768\" + \" \" + 'title'\n  }, t('eventDate'), \":\"), __jsx(\"p\", {\n    className: \"jsx-1703421768\"\n  }, weddingDateBrief), __jsx(\"div\", {\n    style: {\n      paddingTop: '0.2rem',\n      paddingBottom: '0.2rem'\n    },\n    className: \"jsx-1703421768\"\n  }, __jsx(AddToCalendar, {\n    event: calendarEvent,\n    buttonLabel: t('btnAddToMyCalendar')\n  })), __jsx(\"img\", {\n    src: \"/assets/images/section_shape.png\",\n    alt: \"Shape\",\n    className: \"jsx-1703421768\"\n  }))), __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'col-lg-8'\n  }, __jsx(\"div\", {\n    \"data-wow-duration\": \"1.3s\",\n    \"data-wow-delay\": \"0.6s\",\n    style: {\n      visibility: 'visible',\n      animationDuration: '1.3s',\n      animationDelay: '0.6s',\n      animationName: 'fadeIn'\n    },\n    className: \"jsx-1703421768\" + \" \" + 'wow fadeIn'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'coming_soon_count d-flex justify-content-end pt-20'\n  }, __jsx(\"div\", {\n    style: {\n      marginRight: 20,\n      width: 360,\n      height: 138,\n      backgroundColor: 'transparent'\n    },\n    className: \"jsx-1703421768\" + \" \" + 'single_count d-flex align-items-center justify-content-center mt-30'\n  }, __jsx(\"div\", {\n    style: {\n      zIndex: 1,\n      paddingTop: 20\n    },\n    className: \"jsx-1703421768\" + \" \" + 'count_content'\n  }, __jsx(\"a\", {\n    href: venue.mapUrl,\n    className: \"jsx-1703421768\"\n  }, __jsx(\"img\", {\n    style: {\n      borderRadius: 5\n    },\n    src: \"/assets/images/oval-hotel-map-horizontal.png\",\n    alt: \"oval hotel map\",\n    className: \"jsx-1703421768\"\n  })), __jsx(\"a\", {\n    href: venue.mapUrl,\n    style: {\n      maxWidth: '75vw',\n      overflowX: 'hidden',\n      textOverflow: 'ellipsis',\n      marginTop: 10\n    },\n    className: \"jsx-1703421768\"\n  }, venue.mapUrl)))))))), __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'coming_soon_shape_2'\n  }, __jsx(\"img\", {\n    src: \"/assets/images/shape-2.png\",\n    alt: \"shape\",\n    className: \"jsx-1703421768\"\n  }))), __jsx(\"section\", {\n    id: \"contact\",\n    className: \"jsx-1703421768\" + \" \" + 'contact_area'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'container'\n  }, __jsx(\"div\", {\n    \"data-wow-duration\": \"1.3s\",\n    \"data-wow-delay\": \"0.4s\",\n    style: {\n      paddingBottom: 30,\n      boxShadow: 'none',\n      visibility: 'visible',\n      animationDuration: '1.3s',\n      animationDelay: '0.4s',\n      animationName: 'fadeInUp'\n    },\n    className: \"jsx-1703421768\" + \" \" + 'contact_wrapper wow fadeInUpBig'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'row justify-content-center'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'col-lg-9'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'section_title text-center pb-30'\n  }, guest.name && __jsx(\"div\", {\n    style: {\n      textAlign: 'center',\n      maxWidth: 400,\n      margin: 'auto',\n      paddingBottom: 20\n    },\n    className: \"jsx-1703421768\"\n  }, t('invitationGreeting'), __jsx(\"p\", {\n    style: {\n      fontSize: '1.5rem'\n    },\n    className: \"jsx-1703421768\"\n  }, guest.name, \",\")), __jsx(\"h3\", {\n    className: \"jsx-1703421768\" + \" \" + 'title'\n  }, t('invitationIntro')), __jsx(\"div\", {\n    style: {\n      textAlign: 'left',\n      paddingTop: 20,\n      paddingBottom: 20,\n      maxWidth: 400,\n      margin: 'auto'\n    },\n    className: \"jsx-1703421768\"\n  }, __jsx(\"p\", {\n    style: {\n      fontSize: '1rem',\n      lineHeight: 'inherit',\n      color: 'dimgrey',\n      textAlign: t('invitationContentTextAlign')\n    },\n    className: \"jsx-1703421768\"\n  }, __jsx(\"i\", {\n    className: \"jsx-1703421768\"\n  }, t('invitationContent'), t('invitationOutro') && !t('invitationOutro').startsWith('[missing') && __jsx(React.Fragment, null, __jsx(\"br\", {\n    className: \"jsx-1703421768\"\n  }), __jsx(\"br\", {\n    className: \"jsx-1703421768\"\n  }), t('invitationOutro'))))), appConfig.showQrCode && guest.name && __jsx(\"div\", {\n    style: {\n      marginTop: 20,\n      marginBottom: 35\n    },\n    className: \"jsx-1703421768\"\n  }, __jsx(QRCode, {\n    value: guest.guestId\n  })), __jsx(\"p\", {\n    className: \"jsx-1703421768\" + \" \" + 'text'\n  }, __jsx(\"a\", {\n    href: venue.mapUrl,\n    style: {\n      borderBottom: '0.2rem solid',\n      marginBottom: 10\n    },\n    className: \"jsx-1703421768\"\n  }, __jsx(\"b\", {\n    className: \"jsx-1703421768\"\n  }, venue.name)), __jsx(\"br\", {\n    className: \"jsx-1703421768\"\n  }), venue.addressLine1, __jsx(\"br\", {\n    className: \"jsx-1703421768\"\n  }), venue.country, \".\"), __jsx(\"p\", {\n    style: {\n      marginTop: 10\n    },\n    className: \"jsx-1703421768\" + \" \" + 'text'\n  }, __jsx(\"b\", {\n    className: \"jsx-1703421768\"\n  }, weddingDate, \" \\xB7 \", weddingTime)), t('invitationClosing') && !t('invitationClosing').startsWith('[missing') && __jsx(\"p\", {\n    style: {\n      fontStyle: 'italic',\n      maxWidth: 420,\n      margin: 'auto',\n      marginTop: 60\n    },\n    dangerouslySetInnerHTML: {\n      __html: t('invitationClosing')\n    },\n    className: \"jsx-1703421768\" + \" \" + 'text'\n  }))))))), __jsx(\"footer\", {\n    id: \"footer\",\n    className: \"jsx-1703421768\" + \" \" + 'footer_area'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'footer_shape_1'\n  }, __jsx(\"img\", {\n    src: \"/assets/images/shape-1.png\",\n    alt: \"shape\",\n    className: \"jsx-1703421768\"\n  })), __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'container'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'footer_widget pt-50 pb-10 text-center'\n  }, __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'footer_logo'\n  }, __jsx(\"img\", {\n    style: {\n      maxHeight: 90,\n      margin: 25,\n      marginTop: 0\n    },\n    src: logo.headerLogo,\n    alt: \"logo\",\n    className: \"jsx-1703421768\"\n  })), __jsx(\"div\", {\n    className: \"jsx-1703421768\" + \" \" + 'footer_title mb-10'\n  }, __jsx(\"h3\", {\n    className: \"jsx-1703421768\" + \" \" + 'title'\n  }, coupleName))))));\n};\n\nShowInvite.getInitialProps = ctx => {\n  const localeParams = ctx.query.lang || defaultLocale;\n  const emptyGuestParams = {\n    guest: {\n      guestId: '',\n      name: '',\n      greeting: '',\n      locale: localeParams\n    }\n  };\n  const currentUrl = resolvePath(ctx.req.url);\n  const guestId = ctx.query.u;\n\n  if (!guestId) {\n    return _objectSpread({\n      currentUrl\n    }, emptyGuestParams);\n  }\n\n  const guestData = guestList.data;\n  const guestListLastUpdatedAt = guestList.meta.lastUpdatedAt;\n  const {\n    name,\n    greeting,\n    locale\n  } = guestData.filter(guest => guest.guestId === guestId)[0] || {};\n\n  if (!name) {\n    return _objectSpread({\n      currentUrl\n    }, emptyGuestParams);\n  }\n\n  return {\n    currentUrl,\n    guestListLastUpdatedAt,\n    guest: {\n      name,\n      greeting,\n      guestId,\n      locale: locale || localeParams\n    }\n  };\n};\n\nexport default ShowInvite;","map":null,"metadata":{},"sourceType":"module"}